@import "tailwindcss";

@theme {
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* Brand palette (soft, trustworthy) */
  --color-brand-50:  #f5f7ff;
  --color-brand-100: #e9edff;
  --color-brand-200: #d7ddff;
  --color-brand-300: #bdc6ff;
  --color-brand-400: #9aa7ff;
  --color-brand-500: #6b7cff;
  --color-brand-600: #4b5df7;
  --color-brand-700: #3a48d6;
  --color-brand-800: #2f3ab0;
  --color-brand-900: #2a3490;

  /* RGB helpers for transparency */
  --brand-50-rgb: 245, 247, 255;
  --brand-100-rgb: 233, 237, 255;
  --brand-200-rgb: 215, 221, 255;
  --brand-300-rgb: 189, 198, 255;

  /* CTA gradient tokens (unified across site) */
  --cta-from: #2563eb; /* blue-600 */
  --cta-to:   #9333ea; /* purple-600 */
  --cta-from-rgb: 37, 99, 235;
  --cta-to-rgb:   147, 51, 234;

  /* Radii & shadows */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --shadow-soft: 0 1px 2px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04);
  --shadow-card: 0 2px 12px rgba(0,0,0,0.06), 0 6px 24px rgba(0,0,0,0.05);
}

/* Base theme tokens (light by default) */
:root {
  color-scheme: light dark;
  --bg: #ffffff;
  --fg: #0a0a0a;
  --muted: #3f3f46; /* neutral-700-ish */
  --muted-2: #52525b; /* neutral-600-ish */
  --surface: #ffffff;
  --surface-2: #f6f7fb; /* subtle panel */
  --border: rgba(10, 10, 10, 0.08);
}

/* Dark theme via system preference */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0f1a;           /* deep midnight */
    --fg: #e5e7eb;           /* neutral-200 */
    --muted: #a1a1aa;        /* zinc-400 */
    --muted-2: #9ca3af;      /* gray-400 */
    --surface: #0e1422;      /* slightly raised */
    --surface-2: #0f172a;    /* panel */
    --border: rgba(255, 255, 255, 0.12);
  }
}

/* Dark theme opt-in via class or attribute */
html.dark, [data-theme="dark"] {
  color-scheme: dark;
  --bg: #0b0f1a;
  --fg: #e5e7eb;
  --muted: #a1a1aa;
  --muted-2: #9ca3af;
  --surface: #0e1422;
  --surface-2: #0f172a;
  --border: rgba(255, 255, 255, 0.12);
}

/* Explicit light theme override to beat system dark at night */
[data-theme="light"] {
  color-scheme: light;
  --bg: #ffffff;
  --fg: #0a0a0a;
  --muted: #3f3f46;
  --muted-2: #52525b;
  --surface: #ffffff;
  --surface-2: #f6f7fb;
  --border: rgba(10, 10, 10, 0.08);
}

html, body, #__next { height: 100%; }
body {
  font-family: var(--font-sans);
  color: var(--fg);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  transition-property: background-color, color, border-color, fill, stroke, box-shadow;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Elevation tokens */
.shadow-elev-1 { box-shadow: var(--shadow-soft); }
.shadow-elev-2 { box-shadow: var(--shadow-card); }

.prose :where(img) { border-radius: 0.5rem; }

/* Decorative backgrounds */
.bg-hero {
  background: 
    radial-gradient(1000px 800px at 30% -40%, rgba(var(--cta-from-rgb), 0.20), transparent 45%),
    radial-gradient(800px 600px at 70% 120%, rgba(var(--cta-to-rgb), 0.18), transparent 50%),
    radial-gradient(600px 400px at 50% 50%, rgba(var(--brand-300-rgb), 0.12), transparent 65%),
    linear-gradient(135deg, 
      color-mix(in srgb, #f8fafc 70%, rgba(var(--brand-100-rgb), 0.30)) 0%,
      color-mix(in srgb, #e2e8f0 65%, rgba(var(--brand-200-rgb), 0.25)) 50%,
      color-mix(in srgb, #cbd5e1 75%, rgba(var(--brand-50-rgb), 0.20)) 100%
    );
}
@media (prefers-color-scheme: dark) {
  .bg-hero {
    background: radial-gradient(700px 360px at 50% -60%, rgba(99, 102, 241, 0.18), transparent 65%),
                conic-gradient(from 240deg at 60% -10%, rgba(59, 130, 246, 0.10), transparent 40%),
                linear-gradient(180deg, rgba(13, 17, 26, 0.9), rgba(13, 17, 26, 0.9));
  }
}
html.dark .bg-hero, [data-theme="dark"] .bg-hero {
  background: radial-gradient(700px 360px at 50% -60%, rgba(99, 102, 241, 0.18), transparent 65%),
              conic-gradient(from 240deg at 60% -10%, rgba(59, 130, 246, 0.10), transparent 40%),
              linear-gradient(180deg, rgba(13, 17, 26, 0.9), rgba(13, 17, 26, 0.9));
}
/* Explicit light theme override for hero background */
[data-theme="light"] .bg-hero {
  background: 
    radial-gradient(1000px 800px at 30% -40%, rgba(var(--cta-from-rgb), 0.20), transparent 45%),
    radial-gradient(800px 600px at 70% 120%, rgba(var(--cta-to-rgb), 0.18), transparent 50%),
    radial-gradient(600px 400px at 50% 50%, rgba(var(--brand-300-rgb), 0.12), transparent 65%),
    linear-gradient(135deg, 
      color-mix(in srgb, #f8fafc 70%, rgba(var(--brand-100-rgb), 0.30)) 0%,
      color-mix(in srgb, #e2e8f0 65%, rgba(var(--brand-200-rgb), 0.25)) 50%,
      color-mix(in srgb, #cbd5e1 75%, rgba(var(--brand-50-rgb), 0.20)) 100%
    );
}

/* Animations */
@keyframes fade-in { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

.animate-fade-in { animation: fade-in 700ms ease forwards; }
.animate-float { animation: float 3.5s ease-in-out infinite; }
.animate-shimmer {
  background: linear-gradient(90deg, #f4f4f5 25%, #ffffff 37%, #f4f4f5 63%);
  background-size: 400% 100%;
  animation: shimmer 2s linear infinite;
}
@media (prefers-color-scheme: dark) {
  .animate-shimmer {
    background: linear-gradient(90deg, #0f1629 25%, #0b0f1a 37%, #0f1629 63%);
    background-size: 400% 100%;
  }
}
html.dark .animate-shimmer, [data-theme="dark"] .animate-shimmer {
  background: linear-gradient(90deg, #0f1629 25%, #0b0f1a 37%, #0f1629 63%);
  background-size: 400% 100%;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Smooth interactions */
a, button, .btn {
  transition: transform 150ms ease, background-color 200ms ease, color 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
}
a:hover, button:hover, .btn:hover { transform: translateY(-1px); }
a:active, button:active, .btn:active { transform: translateY(0); }

/* Theme-aware utility overrides for common classes used across pages */
.bg-white { background-color: var(--surface) !important; }
.bg-neutral-50 { background-color: var(--surface-2) !important; }
.bg-neutral-100 { background-color: var(--surface-2) !important; }
.text-neutral-700 { color: var(--muted) !important; }
.text-neutral-900 { color: var(--fg) !important; }
.dark .text-neutral-900 { color: var(--fg) !important; }
.dark .text-neutral-700 { color: var(--muted) !important; }
/* Ensure subtle separators adapt */
.border-t { border-top-color: var(--border) !important; }
.border-b { border-bottom-color: var(--border) !important; }
.border { border-color: var(--border) !important; }

/* Text fallbacks used in components */
.text-neutral-800 { color: var(--fg) !important; }

/* Translucent surface helpers for blurred headers, etc. */
.bg-surface-80 { background-color: color-mix(in srgb, var(--surface) 80%, transparent); }
.bg-surface-60 { background-color: color-mix(in srgb, var(--surface) 60%, transparent); }
.dark .bg-surface-80 { background-color: color-mix(in srgb, var(--surface) 80%, transparent); }
.dark .bg-surface-60 { background-color: color-mix(in srgb, var(--surface) 60%, transparent); }

/* Liquid glass surfaces (iOS 16+ feel) */
.glass {
  background-color: color-mix(in srgb, var(--surface) 65%, transparent);
  -webkit-backdrop-filter: saturate(160%) blur(14px);
  backdrop-filter: saturate(160%) blur(14px);
  border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
}
.glass-strong {
  background-color: color-mix(in srgb, var(--surface) 50%, transparent);
  -webkit-backdrop-filter: saturate(180%) blur(20px);
  backdrop-filter: saturate(180%) blur(20px);
  border: 1px solid color-mix(in srgb, var(--border) 85%, transparent);
}
.dark .glass { background-color: color-mix(in srgb, var(--surface) 35%, transparent); }
.dark .glass-strong { background-color: color-mix(in srgb, var(--surface) 25%, transparent); }

/* Gradient helpers aligned to CTA theme */
.gradient-cta {
  background-image: linear-gradient(135deg, var(--cta-from), var(--cta-to));
}
.gradient-cta-soft {
  background-image:
    radial-gradient(600px 300px at 20% 0%, rgba(var(--cta-from-rgb), 0.25), transparent 60%),
    radial-gradient(600px 300px at 80% 100%, rgba(var(--cta-to-rgb), 0.25), transparent 60%),
    linear-gradient(135deg, color-mix(in srgb, var(--cta-from) 80%, #0000), color-mix(in srgb, var(--cta-to) 85%, #0000));
}

/* Text gradient aligned with CTA colors */
.text-gradient-brand {
  background-image: linear-gradient(135deg, var(--cta-from), var(--cta-to));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Contrast surface for sections behind primary CTA buttons */
.gradient-contrast-surface {
  position: relative;
  background: 
    radial-gradient(900px 700px at 25% -30%, rgba(var(--cta-from-rgb), 0.18), transparent 50%),
    radial-gradient(700px 500px at 75% 130%, rgba(var(--cta-to-rgb), 0.16), transparent 45%),
    radial-gradient(500px 300px at 50% 50%, rgba(var(--brand-300-rgb), 0.08), transparent 70%),
    linear-gradient(135deg, 
      color-mix(in srgb, var(--surface) 75%, rgba(var(--brand-100-rgb), 0.25)) 0%,
      color-mix(in srgb, var(--surface) 70%, rgba(var(--brand-200-rgb), 0.20)) 50%,
      color-mix(in srgb, var(--surface) 80%, rgba(var(--brand-50-rgb), 0.15)) 100%
    );
  -webkit-backdrop-filter: saturate(200%) blur(25px);
  backdrop-filter: saturate(200%) blur(25px);
  border-top: 1px solid color-mix(in srgb, var(--border) 40%, rgba(var(--brand-300-rgb), 0.5));
}
@media (prefers-color-scheme: dark) {
  .gradient-contrast-surface {
    background: 
      radial-gradient(800px 600px at 30% -20%, rgba(var(--cta-from-rgb), 0.25), transparent 65%),
      radial-gradient(600px 400px at 70% 120%, rgba(var(--cta-to-rgb), 0.20), transparent 60%),
      linear-gradient(135deg, 
        color-mix(in srgb, var(--surface) 70%, rgba(59, 130, 246, 0.08)) 0%,
        color-mix(in srgb, var(--surface) 75%, rgba(99, 102, 241, 0.06)) 50%,
        color-mix(in srgb, var(--surface) 80%, rgba(139, 92, 246, 0.04)) 100%
      );
    border-top: 1px solid color-mix(in srgb, var(--border) 80%, rgba(99, 102, 241, 0.2));
  }
}
html.dark .gradient-contrast-surface, [data-theme="dark"] .gradient-contrast-surface {
  background: 
    radial-gradient(800px 600px at 30% -20%, rgba(var(--cta-from-rgb), 0.25), transparent 65%),
    radial-gradient(600px 400px at 70% 120%, rgba(var(--cta-to-rgb), 0.20), transparent 60%),
    linear-gradient(135deg, 
      color-mix(in srgb, var(--surface) 70%, rgba(59, 130, 246, 0.08)) 0%,
      color-mix(in srgb, var(--surface) 75%, rgba(99, 102, 241, 0.06)) 50%,
      color-mix(in srgb, var(--surface) 80%, rgba(139, 92, 246, 0.04)) 100%
    );
  border-top: 1px solid color-mix(in srgb, var(--border) 80%, rgba(99, 102, 241, 0.2));
}
/* Explicit light theme override for CTA sections */
[data-theme="light"] .gradient-contrast-surface {
  background: 
    radial-gradient(900px 700px at 25% -30%, rgba(var(--cta-from-rgb), 0.18), transparent 50%),
    radial-gradient(700px 500px at 75% 130%, rgba(var(--cta-to-rgb), 0.16), transparent 45%),
    radial-gradient(500px 300px at 50% 50%, rgba(var(--brand-300-rgb), 0.08), transparent 70%),
    linear-gradient(135deg, 
      color-mix(in srgb, var(--surface) 75%, rgba(var(--brand-100-rgb), 0.25)) 0%,
      color-mix(in srgb, var(--surface) 70%, rgba(var(--brand-200-rgb), 0.20)) 50%,
      color-mix(in srgb, var(--surface) 80%, rgba(var(--brand-50-rgb), 0.15)) 100%
    );
  border-top: 1px solid color-mix(in srgb, var(--border) 40%, rgba(var(--brand-300-rgb), 0.5));
}

/* Subtle interactive sheen for primary CTAs */
.btn-sheen {
  position: relative;
  overflow: hidden;
}
.btn-sheen::after {
  content: "";
  position: absolute;
  inset: -40% -60% auto auto;
  width: 50%;
  height: 200%;
  transform: rotate(25deg) translate3d(0,0,0);
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.45) 50%, rgba(255,255,255,0) 100%);
  opacity: 0;
  transition: opacity 300ms ease, transform 600ms ease;
  pointer-events: none;
}
.btn-sheen:hover::after {
  opacity: 1;
  transform: rotate(25deg) translateX(-120%);
}

/* Better text selection */
::selection { background: rgba(var(--brand-200-rgb), 0.55); color: #111827; }
@media (prefers-color-scheme: dark) {
  ::selection { background: rgba(99, 102, 241, 0.35); color: #e5e7eb; }
}
